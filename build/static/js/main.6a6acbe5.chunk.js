(this.webpackJsonpspotty=this.webpackJsonpspotty||[]).push([[0],{110:function(e,t,s){},111:function(e,t,s){"use strict";s.r(t);var n,a,c=s(0),i=s.n(c),r=s(33),o=s.n(r),j=s(112),l=s(1),g=function(){return Object(l.jsxs)("div",{className:"loginPage",children:[Object(l.jsx)("div",{className:"login",children:Object(l.jsx)("h3",{children:Object(l.jsx)("a",{href:"https://accounts.spotify.com/authorize?client_id=cad88e9871c64b1097fd0794f17fa7a0&response_type=code&redirect_uri=https://zodiacmusicplayer.web.app&scope=streaming%20user-read-email%20user-read-private%20user-read-playback-state%20user-modify-playback-state",children:"Login to Spotify"})})}),Object(l.jsx)("div",{className:"loginContent",children:Object(l.jsxs)("div",{className:"circle",children:[Object(l.jsx)(j.a,{className:"deg0",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/aries.jpg",alt:"starsign"})}),Object(l.jsx)(j.a,{className:"deg30",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/taurus.jpg",alt:"starsign"})}),Object(l.jsx)(j.a,{className:"deg60",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/gemini.jpg",alt:"starsign"})}),Object(l.jsx)(j.a,{className:"deg90",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/cancer.jpg",alt:"starsign"})}),Object(l.jsx)(j.a,{className:"deg120",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/leo.jpg",alt:"starsign"})}),Object(l.jsx)(j.a,{className:"deg150",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/virgo.jpg",alt:"starsign"})}),Object(l.jsx)(j.a,{className:"deg180",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/libra.jpg",alt:"starsign"})}),Object(l.jsx)(j.a,{className:"deg210",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/scorpio.jpg",alt:"starsign"})}),Object(l.jsx)(j.a,{className:"deg240",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/sag.jpg",alt:"starsign"})}),Object(l.jsx)(j.a,{className:"deg270",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/capricorn.jpg",alt:"starsign"})}),Object(l.jsx)(j.a,{className:"deg300",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/aquarius.jpg",alt:"starsign"})}),Object(l.jsx)(j.a,{className:"deg330",style:{height:"100vg"},children:Object(l.jsx)("img",{src:"/images/pisces.jpg",alt:"starsign"})})]})})]})},d=s(3),h=s(36),b=s.n(h),p=s(48),m=s(16),u=s.n(m),O=function(e){var t=Object(c.useState)(),s=Object(d.a)(t,2),n=s[0],a=s[1],i=Object(c.useState)(),r=Object(d.a)(i,2),o=r[0],j=r[1],l=Object(c.useState)(),g=Object(d.a)(l,2),h=g[0],b=g[1];return Object(c.useEffect)((function(){u.a.post("https://zodiac-backend.herokuapp.com/login",{code:e}).then((function(e){a(e.data.accessToken),j(e.data.refreshToken),b(e.data.expiresIn),window.history.pushState({},null,"/")})).catch((function(){window.location="/"}))}),[e]),Object(c.useEffect)((function(){if(o&&h){var e=setInterval((function(){u.a.post("https://zodiac-backend.herokuapp.com/refresh",{refreshToken:o}).then((function(e){a(e.data.accessToken),b(e.data.expiresIn)})).catch((function(){window.location="/"}))}),1e3*(h-60));return function(){return clearInterval(e)}}}),[o,h]),n},x=new b.a({clientId:"cad88e9871c64b1097fd0794f17fa7a0"}),f=function(e){var t=e.code,s=O(t),n=Object(c.useState)(),a=Object(d.a)(n,2),i=a[0],r=a[1],o=Object(c.useState)(""),g=Object(d.a)(o,2),h=g[0],b=g[1],m=Object(c.useState)(""),u=Object(d.a)(m,2),f=u[0],y=u[1],v=Object(c.useState)(!1),w=Object(d.a)(v,2),k=w[0],N=w[1],S=Object(c.useState)(0),I=Object(d.a)(S,2),P=I[0],E=I[1];Object(c.useEffect)((function(){s&&x.setAccessToken(s)}),[s]);var q={aries:{id:"0niSJoA95g5Pz2NqPpELjP",img:"/images/aries.jpg"},taurus:{id:"0IpV6kzt1FPssRebnlOlVP",img:"/images/taurus.jpg"},gemini:{id:"21pg2wJxnyOeTEHQ5pvS1J",img:"/images/gemini.jpg"},cancer:{id:"2n8mCoR94S8nkKnDLHIKI8",img:"/images/cancer.jpg"},leo:{id:"76ZJXlJQG9iYutyIJW53nK",img:"/images/leo.jpg"},virgo:{id:"2T490l53FCFMMNwH3UNcoY",img:"/images/virgo.jpg"},libra:{id:"5Cg9oGB1CrOp9kQKarVHyL",img:"/images/libra.jpg"},scorpio:{id:"4toj8Lx2vvIjBljDEq5WZh",img:"/images/scorpio.jpg"},sag:{id:"1VtFDaLuq6r7cmguIRYe1l",img:"/images/sag.jpg"},capricorn:{id:"3J1EsxEHPxpjqFiY8lP2Bn",img:"/images/capricorn.jpg"},aquarius:{id:"3d6ajAnNcL4yPyOEkqDk8H",img:"/images/aquarius.jpg"},pisces:{id:"710HeuN5dDjL1v9kc4ouCE",img:"/images/pisces.jpg"}};return Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)("div",{className:"circle",children:Object.keys(q).map((function(e,t){var s,n,a=q[e],c=a.img,i=a.id;return Object(l.jsx)(j.a,{className:"deg"+30*t,style:{height:"100vg"},children:Object(l.jsx)("img",{src:c,alt:"starsign",onClick:(s=i,n=e,function(){N(!1),r(),x.getPlaylist(s).then((function(e){var t=e.body.tracks.items,s=t[Math.floor(Math.random()*t.length)],a=Math.floor(Math.random()*t.length);E(a);var c=s.track.external_urls.spotify;r(e.body.uri),b(n),y(c),N(!0)}),(function(e){console.log("Something went wrong!",e)}))}),style:{cursor:"pointer"}})},i)}))}),Object(l.jsx)("div",{className:"open",children:k?Object(l.jsxs)("a",{href:f,target:"_blank",rel:"noreferrer",children:[Object(l.jsx)("img",{alt:"spotify",src:"/images/Spotify-button.png"})," "]}):Object(l.jsx)("div",{})}),Object(l.jsx)("div",{className:"players",children:Object(l.jsx)("div",{children:Object.keys(q).map((function(e){return h===e&&Object(l.jsx)(p.a,{className:"player",styles:{height:"3em"},token:s,autoPlay:!1,offset:P,uris:i?[i]:[]},q[e].id)}))})})]})},y=s(7),v=s(8),w=v.a.ul(n||(n=Object(y.a)(["\n  list-style: none;\n  display: flex;\n  flex-flow: row nowrap;\n  li {\n    padding: 18px 10px;\n  }\n    flex-flow: column nowrap;\n    background-color: yellow;\n    z-index: 1;\n    position: fixed;\n    transform: ",";\n    top: 0;\n    left: 0;\n    height: 100vh;\n    width: 300px;\n    padding-top: 3.5rem;\n    padding-right: 2rem;\n    transition: transform 0.3s ease-in-out;\n    li {\n      color: black;\n    }\n    a {\n        text-decoration: none;\n        color: grey;\n    }\n\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"})),k=function(e){var t=e.open;return Object(l.jsx)(w,{open:t,children:Object(l.jsxs)("h3",{children:["Choose an image to randomly generate a track by an artist who matches your star sign!",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"The full playlists can be found ",Object(l.jsx)("a",{href:"https://open.spotify.com/user/ozpb5dba2y49pslou4beoev9x?si=5755aa9c8a5e4491",children:"here"}),".",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"App and playlists by ",Object(l.jsx)("a",{href:"https://randyriback.com",children:"Randy Riback"}),", photography by ",Object(l.jsx)("a",{href:"https://www.instagram.com/__koreanbbq/",children:"Maurice Sarah"}),".",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"Discover more curated and original music from Randy ",Object(l.jsx)("a",{href:"https://www.soundcloud.com/jungdeejay",children:"here"}),"."]})})},N=v.a.div(a||(a=Object(y.a)(["\n  width: 2rem;\n  height: 2rem;\n  position: fixed;\n  top: 15px;\n  left: 20px;\n  z-index: 20;\n  display: flex;\n  justify-content: space-around;\n  flex-flow: column nowrap;\n  div {\n    width: 2rem;\n    height: 0.25rem;\n    background-color: ",";\n    border-radius: 10px;\n    transform-origin: 1px;\n    transition: all 0.3s linear;\n    &:nth-child(1) {\n      transform: ",";\n    }\n    &:nth-child(2) {\n      transform: ",";\n      opacity: ",";\n    }\n    &:nth-child(3) {\n      transform: ",";\n    }\n  }\n"])),(function(e){e.open;return"#333"}),(function(e){return e.open?"rotate(45deg)":"rotate(0)"}),(function(e){return e.open?"translateX(100%)":"translateX(0)"}),(function(e){return e.open?0:1}),(function(e){return e.open?"rotate(-45deg)":"rotate(0)"})),S=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),s=t[0],n=t[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(N,{open:s,onClick:function(){return n(!s)},children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]}),Object(l.jsx)(k,{open:s})]})},I=(s(109),s(110),new URLSearchParams(window.location.search).get("code"));var P=function(){return I?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(S,{}),Object(l.jsx)(f,{code:I})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(S,{}),Object(l.jsx)(g,{})]})};o.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(P,{})}),document.getElementById("root"))},73:function(e,t){}},[[111,1,2]]]);
//# sourceMappingURL=main.6a6acbe5.chunk.js.map